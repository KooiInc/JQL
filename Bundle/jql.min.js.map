{
  "version": 3,
  "sources": ["../src/EmbedResources.js", "../src/HTMLTags.js", "../src/DOMCleanup.js", "../src/DOM.js", "../src/JQLLog.js", "../src/JQLMethods.js", "../src/Popup.js", "../src/HandlerFactory.js", "../LifeCSS/index.js", "../src/Utilities.js", "../src/JQLExtensionHelpers.js", "../index.js"],
  "sourcesContent": ["let logStyling = getLogStyling();\r\nlet popupStyling = getPopupStyling();\r\nconst ATTRS = getAttrs();\r\nconst allTags = getPermissions();\r\nexport {logStyling, popupStyling, ATTRS, allTags};\r\n\r\nfunction getAttrs() {\r\n  return {\r\n    html: `accept,action,align,alt,autocapitalize,autocomplete,autopictureinpicture,autoplay,background,bgcolor,border,capture,cellpadding,cellspacing,checked,cite,class,clear,color,cols,colspan,controls,controlslist,coords,crossorigin,datetime,decoding,default,dir,disabled,disablepictureinpicture,disableremoteplayback,download,draggable,enctype,enterkeyhint,face,for,headers,height,hidden,high,href,hreflang,id,inputmode,integrity,ismap,kind,label,lang,list,loading,loop,low,max,maxlength,media,method,min,minlength,multiple,muted,name,nonce,noshade,novalidate,nowrap,open,optimum,pattern,placeholder,playsinline,poster,preload,pubdate,radiogroup,readonly,rel,required,rev,reversed,role,rows,rowspan,spellcheck,scope,selected,shape,size,sizes,span,srclang,start,src,srcset,step,style,summary,tabindex,target,title,translate,type,usemap,valign,value,width,xmlns,slot`\r\n      .split(`,`),\r\n    svg:`accent-height,accumulate,additive,alignment-baseline,ascent,attributename,attributetype,azimuth,basefrequency,baseline-shift,begin,bias,by,class,clip,clippathunits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,cx,cy,d,dx,dy,diffuseconstant,direction,display,divisor,dur,edgemode,elevation,end,fill,fill-opacity,fill-rule,filter,filterunits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,fx,fy,g1,g2,glyph-name,glyphref,gradientunits,gradienttransform,height,href,id,image-rendering,in,in2,k,k1,k2,k3,k4,kerning,keypoints,keysplines,keytimes,lang,lengthadjust,letter-spacing,kernelmatrix,kernelunitlength,lighting-color,local,marker-end,marker-mid,marker-start,markerheight,markerunits,markerwidth,maskcontentunits,maskunits,max,mask,media,method,mode,min,name,numoctaves,offset,operator,opacity,order,orient,orientation,origin,overflow,paint-order,path,pathlength,patterncontentunits,patterntransform,patternunits,points,preservealpha,preserveaspectratio,primitiveunits,r,rx,ry,radius,refx,refy,repeatcount,repeatdur,restart,result,rotate,scale,seed,shape-rendering,specularconstant,specularexponent,spreadmethod,startoffset,stddeviation,stitchtiles,stop-color,stop-opacity,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke,stroke-width,style,surfacescale,systemlanguage,tabindex,targetx,targety,transform,text-anchor,text-decoration,text-rendering,textlength,type,u1,u2,unicode,values,viewbox,visibility,version,vert-adv-y,vert-origin-x,vert-origin-y,width,word-spacing,wrap,writing-mode,xchannelselector,ychannelselector,x,x1,x2,xmlns,y,y1,y2,z,zoomandpan`\r\n      .split(`,`),\r\n  };\r\n}\r\n\r\nfunction getPermissions() {\r\n  return {a:true,area:false,audio:false,br:true,base:false,body:false,button:true,canvas:false,dl:true,data:false,datalist:true,div:true,embed:false,fieldset:true,font:false,form:false,hr:true,head:false,output:true,iframe:false,frameset:false,img:true,input:true,li:true,label:true,legend:true,link:false,map:false,media:false,meta:false,meter:true,ol:true,object:false,optgroup:true,option:true,p:true,param:true,picture:false,pre:true,progress:false,quote:true,script:false,select:true,source:false,span:true,style:true,caption:true,td:true,col:true,table:true,tr:true,template:false,textarea:true,time:true,title:true,track:true,details:false,ul:true,video:false,del:true,ins:true,slot:false,blockquote:true,svg:true,dialog:false,summary:true,main:true,address:true,colgroup:true,tbody:true,tfoot:true,th:true,dd:true,dt:true,figcaption:true,figure:true,i:true,b:true,code:true,h1:true,h2:true,h3:true,h4:true,abbr:true,bdo:true,dfn:true,em:true,kbd:true,mark:true,q:true,rb:true,rp:true,rt:true,ruby:true,s:true,strike:true,samp:true,small:true,strong:true,sup:true,sub:true,u:true,var:true,wbr:true,nobr:false,tt:true,noscript:true,comment:false};\r\n}\r\n\r\nfunction getLogStyling() {\r\n  return [\r\n    \"#logBox{min-width:0px;max-width:0px;min-height:0px;max-height:0px;,width:0;height:0;z-index:-1;border:none;padding:0px;overflow:hidden;transition:all 0.3s ease;position:fixed;}\",\r\n    \"#logBox.visible{background-color:rgb(255, 255, 224);z-index:1;position:static;border:1px dotted rgb(153, 153, 153);max-width:90vw;min-width:30vw;min-height:10vh;max-height:90vh;overflow:auto;width:50vw;height:20vh;margin:1rem 0px;padding:0px 8px 19px;resize:both;}\",\r\n    \"#logBox .legend{text-align:center;position:absolute;margin-top:-1em;width:inherit;max-width:inherit;}\",\r\n    \"#logBox .legend div{text-align:center;display:inline-block;max-width:inherit;height:1.2rem;background-color:rgb(119, 119, 119);padding:2px 10px;color:rgb(255, 255, 255);box-shadow:rgb(119 119 119) 2px 1px 10px;border-radius:4px;}\",\r\n    \"#logBox .legend div:before{content:'JQL Logging';}\",\r\n    \"#logBox #jql_logger{marginTop:0.7rem;lineHeight:1.4em;font-family:consolas,monospace;whiteSpace:pre-wrap;maxWidth:inherit;}\"\r\n  ]\r\n}\r\n\r\nfunction getPopupStyling() {\r\n  const svgImg = `url('data:image/svg+xml\\\\3butf8,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22iso-8859-1%22%3F%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20version%3D%221.1%22%20id%3D%22Layer_1%22%20x%3D%220px%22%20y%3D%220px%22%20viewBox%3D%220%200%20128%20128%22%20style%3D%22enable-background%3Anew%200%200%20128%20128%3B%22%20xml%3Aspace%3D%22preserve%22%3E%3Crect%20x%3D%22-368%22%20y%3D%226%22%20style%3D%22display%3Anone%3Bfill%3A%23E0E0E0%3B%22%20width%3D%22866%22%20height%3D%221018%22%2F%3E%3Ccircle%20style%3D%22fill%3A%23FFFFFF%3B%22%20cx%3D%2264%22%20cy%3D%2264%22%20r%3D%2248%22%2F%3E%3Ccircle%20style%3D%22fill%3A%238CCFB9%3B%22%20cx%3D%2264%22%20cy%3D%2264%22%20r%3D%2239%22%2F%3E%3Ccircle%20style%3D%22fill%3Anone%3Bstroke%3A%23444B54%3Bstroke-width%3A6%3Bstroke-miterlimit%3A10%3B%22%20cx%3D%2264%22%20cy%3D%2264%22%20r%3D%2248%22%2F%3E%3Cpolyline%20style%3D%22fill%3Anone%3Bstroke%3A%23FFFFFF%3Bstroke-width%3A6%3Bstroke-linecap%3Around%3Bstroke-miterlimit%3A10%3B%22%20points%3D%2242%2C69%2055.55%2C81%20%20%2086%2C46%20%22%2F%3E%3C%2Fsvg%3E')`;\r\n  return [\r\n    \".popupContainer{top:50%;left:50%;transform:translate(-50%, -50%);position:absolute;max-width:40vw;max-height:40vh;opacity:0;border:1px solid transparent;display:flex;flex-direction:row-reverse;}\",\r\n    \".popupContainer.active{z-index:10;opacity:1;resize:vertical;}\",\r\n    \"body.popupActive{overflow:hidden;transition:all 0.6s linear 0s;}\",\r\n    \".between{position:absolute;z-index:-1;overflow:hidden;background-color:white;width:0px;height:0px;opacity:0;}\",\r\n    \".between.active{height:100%;width:100%;z-index:9;opacity:0.7;transition:opacity 0.4s ease-in 0s;}\",\r\n    \".popupBox{min-width:150px;max-width:inherit;max-height:inherit;background-color:white;box-shadow:rgb(119, 119, 119) 3px 2px 12px;border-radius:6px;overflow:auto;font:12px / 15px Verdana, Arial, sans-serif;min-height:1.5rem;z-index:10;padding:0.4rem;}\",\r\n    \"[data-modalcontent]{padding:0.5rem;min-height:1rem;vertical-align:middle;}\",\r\n    \"@media screen and (width < 1200px){.popupContainer{max-width:75vw;max-height:40vh;}}\",\r\n    \"@media screen and (width < 640px){.popupContainer{max-width:90vw;max-height:60vh;}}\",\r\n    \"#modalWarning{color:red;background-color:rgb(255, 255, 240);font-weight:bold;border:3px solid red;padding:1rem;margin:0px auto 0.5em;text-align:center;opacity:0;max-height:0px;position:absolute;box-shadow:rgb(153, 153, 153) 2px 2px 8px;transition:all 0.5s ease 0s;top:50%;left:50%;transform:translate(-50%, -50%);}\",\r\n    \"#modalWarning.active:after{content:'Requires action first!';}\",\r\n    \"#modalWarning.active{opacity:1;max-height:100%;max-width:100%;height:auto;z-index:12;}\",\r\n    `.closeHandleIcon{opacity:0;z-index:-1;cursor:pointer;width:32px;height:32px;background:${svgImg} no-repeat;}`,\r\n    \".closeHandleIcon.active{z-index:12;opacity:1;position:absolute;margin-right:-16px;margin-top:-16px;};\"\r\n  ];\r\n}", "import {allTags} from \"./EmbedResources.js\";\r\nexport default {\r\n  isAllowed(elem) {\r\n    const nodeName = elem?.nodeName.toLowerCase() || `none`;\r\n    const tag = allTags[nodeName];\r\n    return !!tag;\r\n  },\r\n  setTagPermission({tagName = `none`, allowed = false}) {\r\n      tagName = tagName.toLowerCase();\r\n      if (rawTags[tagName]) { rawTags[tagName] = allowed; } ;\r\n  },\r\n};", "import { truncate2SingleStr, IS } from \"./JQLExtensionHelpers.js\";\r\nimport cleanupTagInfo from \"./HTMLTags.js\";\r\nimport {ATTRS} from \"./EmbedResources.js\";\r\nlet logElementCreationErrors2Console = false;\r\nconst allowUnknownHtmlTags = {\r\n  on: () => cleanupTagInfo.lenient = true,\r\n  off: () => cleanupTagInfo.lenient = false,\r\n};\r\nconst attrRegExpStore = {\r\n  data: /data-[\\-\\w.\\p{L}]/ui, // data-* minimal 1 character after dash\r\n  validURL: /^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i,\r\n  whiteSpace: /[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g,\r\n  notAllowedValues: /javascript|injected|noreferrer|alert|DataURL/gi\r\n};\r\nconst logContingentErrors = elCreationInfo => {\r\n  if (logElementCreationErrors2Console && Object.keys(elCreationInfo.removed).length) {\r\n    const msgs = Object.entries(elCreationInfo.removed)\r\n      .reduce( (acc, [k, v]) => [...acc, `${k} => ${v}`], [])\r\n      .join(`\\\\000A`);\r\n    console.info(`JQL HTML creation errors:`);\r\n    console.info(msgs);\r\n  }\r\n};\r\nconst cleanupHtml = elem => {\r\n  const template = document.createElement(\"template\");\r\n  const elCreationInfo = {\r\n    rawHTML: elem.outerHTML,\r\n    removed: { },\r\n  }\r\n  template.innerHTML = `<div id=\"placeholder\">${elem.outerHTML}</div>`;\r\n  const el2Clean = template.content.querySelector(\"#placeholder\");\r\n  el2Clean.querySelectorAll(\"*\").forEach(child => {\r\n    const attrStore = IS(child, SVGElement) ? ATTRS.svg : ATTRS.html;\r\n    [...child.attributes]\r\n      .forEach(attr => {\r\n        const name = attr.name.trim().toLowerCase();\r\n        const value = attr.value.trim().toLowerCase().replace(attrRegExpStore.whiteSpace, ``);\r\n        const evilValue = name === \"href\"\r\n            ? !attrRegExpStore.validURL.test(value) : attrRegExpStore.notAllowedValues.test(value);\r\n        const evilAttrib = name.startsWith(`data`) ? !attrRegExpStore.data.test(name) : !!attrStore[name];\r\n\r\n        if (evilValue || evilAttrib) {\r\n          elCreationInfo.removed[`${attr.name}`] = `attribute/property (-value) not allowed, remove (value: ${\r\n            truncate2SingleStr(attr.value || `none`, 60)})`;\r\n          child.removeAttribute(attr.name);\r\n        }\r\n    });\r\n    const allowed = cleanupTagInfo.isAllowed(child);\r\n    if (!allowed) {\r\n      elCreationInfo.removed[`<${child.nodeName.toLowerCase()}>`] = `not allowed, not rendered (tag: ${\r\n        truncate2SingleStr(child.outerHTML, 60)})`;\r\n      child.remove();\r\n    }\r\n  });\r\n  logContingentErrors(elCreationInfo);\r\n  return el2Clean.children[0];\r\n};\r\nconst emphasize = str => `***${str}***`;\r\nconst getRestricted = emphasizeTag =>\r\n  Object.entries(cleanupTagInfo)\r\n    .reduce((acc, [key, value]) =>\r\n      !value.allowed &&\r\n      [...acc, (emphasizeTag && key === emphasizeTag ? emphasize(key) : key)] ||\r\n      acc, []);\r\nconst setTagPermission = cleanupTagInfo.setTagPermission;\r\nconst logElementCreationErrors = onOff => logElementCreationErrors2Console = onOff;\r\n\r\nexport { cleanupHtml, getRestricted, setTagPermission, allowUnknownHtmlTags, logElementCreationErrors, };", "import {\r\n  cleanupHtml,\r\n  getRestricted,\r\n  setTagPermission,\r\n  allowUnknownHtmlTags } from \"./DOMCleanup.js\";\r\nimport { truncateHtmlStr, IS } from \"./JQLExtensionHelpers.js\";\r\nconst insertPositions = {\r\n  BeforeBegin: \"beforebegin\",\r\n  AfterBegin: \"afterbegin\",\r\n  BeforeEnd: \"beforeend\",\r\n  AfterEnd: \"afterend\" };\r\nconst placeholderNode = document.createElement(\"div\");\r\nconst htmlToVirtualElement = htmlString => {\r\n  placeholderNode.innerHTML = htmlString.trim();\r\n  return placeholderNode.childNodes.length\r\n    ? cleanupHtml(placeholderNode)\r\n    : undefined;\r\n};\r\nconst characterDataElement2DOM = (elem, root, position) => {\r\n  switch(position) {\r\n    case insertPositions.BeforeBegin: root.parentElement?.insertBefore(elem, root); break;\r\n    case insertPositions.AfterBegin: root.insertBefore(elem, root.firstElementChild); break;\r\n    case insertPositions.AfterEnd: root.parentElement?.insertBefore(elem, root.nextElementSibling); break;\r\n    default: root.appendChild(elem); break;\r\n  }\r\n}\r\nconst element2DOM = (elem, root = document.body, position = insertPositions.BeforeEnd) => {\r\n  root = root.isJQL ? root[0] : root;\r\n  return IS(elem, Comment) ? characterDataElement2DOM(elem, root, position) :\r\n    root.insertAdjacentElement(position, elem);\r\n};\r\nconst createElementFromHtmlString = htmlStr => {\r\n  htmlStr = htmlStr.trim();\r\n\r\n  if (htmlStr.startsWith(`<!--`) && htmlStr.endsWith(`-->`)) {\r\n    return document.createComment(htmlStr.replace(/<!--|-->$/g, ''));\r\n  }\r\n\r\n  const nwElem = htmlToVirtualElement(htmlStr);\r\n\r\n  if (!nwElem.children.length) {\r\n      return createElementFromHtmlString(`<span data-jqlcreationerror=\"1\">${truncateHtmlStr(htmlStr, 60)}</span>`);\r\n  }\r\n\r\n  return nwElem.children[0];\r\n};\r\n\r\nexport {\r\n  getRestricted,\r\n  setTagPermission,\r\n  createElementFromHtmlString,\r\n  element2DOM,\r\n  cleanupHtml,\r\n  allowUnknownHtmlTags,\r\n  insertPositions,\r\n};", "import jql from \"../index.js\";\r\nimport {createElementFromHtmlString, element2DOM, insertPositions} from \"./DOM.js\";\r\nimport {IS, logTime, isVisible} from \"./JQLExtensionHelpers.js\";\r\nimport {logStyling} from \"./EmbedResources.js\";\r\nlet logSystem = false;\r\nlet useLogging = false;\r\nlet log2Console = true;\r\nlet reverseLogging = false;\r\nlet useHtml = true;\r\nconst logBoxId = `#jql_logger`;\r\nconst setStyling4Log = setStyle => { logStyling?.forEach(selector => setStyle(selector)); };\r\nconst createLogElement = () => {\r\n  if (logStyling) {\r\n    setStyling4Log(jql.createStyle(`JQLLogCSS`));\r\n  }\r\n  const jql_logger_element_name = useHtml ? `div` : `pre`;\r\n  const loggingFieldSet = `<div id=\"logBox\"><div class=\"legend\"><div></div></div><${\r\n    jql_logger_element_name} id=\"jql_logger\"></${jql_logger_element_name}></div>`;\r\n  element2DOM(createElementFromHtmlString(loggingFieldSet), undefined, insertPositions.AfterBegin);\r\n  return jql.node(logBoxId);\r\n};\r\nconst decodeForConsole = something => IS(something, String) &&\r\n  Object.assign(document.createElement(`textarea`), {innerHTML: something}).textContent ||\r\n  something;\r\nconst Log = (...args) => {\r\n    if (!useLogging) { return; }\r\n    if (!log2Console && !jql.node(`#jql_logger`)) {\r\n      createLogElement();\r\n    }\r\n    const logLine = arg => `${IS(arg, Object) ? JSON.stringify(arg, null, 2) : arg}\\n`;\r\n    args.forEach( arg => log2Console\r\n      ? console.log(decodeForConsole(arg))\r\n      : jql.node(`#jql_logger`).insertAdjacentHTML(\r\n          reverseLogging ? `afterbegin` : `beforeend`,\r\n          `${logTime()} ${logLine(arg.replace(/\\n/g, `<br>`))}`)\r\n    );\r\n};\r\nconst logActive = {\r\n  on() {  useLogging = true; Log(`Logging activated`); },\r\n  off() { useLogging = false; console.log(`Logging deactivated`) },\r\n}\r\nconst setSystemLog = {\r\n  on() { logSystem = true; },\r\n  off() { logSystem = false; },\r\n};\r\nconst systemLog = (...logTxt) => logSystem && Log(...logTxt);\r\nlet debugLog = {};\r\ndebugLog = {...debugLog,\r\n  isOn: () => useLogging,\r\n  isVisible: () => jql(`#jql_logger`).is(`:visible`), //isVisible(logBox()),\r\n  on: () => {\r\n    logActive.on();\r\n    setSystemLog.on();\r\n    if (!log2Console) {\r\n      const box = jql.node(logBoxId) || createLogElement();\r\n      box?.parentNode[\"classList\"].add(`visible`);\r\n    }\r\n    Log(`Debug logging started. Every call to [jql instance] is logged (${\r\n      reverseLogging ? `ascending: latest last` : `descending: latest first`}).`);\r\n    return debugLog;\r\n  },\r\n  off: () => {\r\n    const logBox = jql(logBoxId);\r\n    if (!logBox.isEmpty) {\r\n      setSystemLog.off();\r\n      Log(`Debug logging stopped`);\r\n      logBox.parent().removeClass(`visible`);\r\n    }\r\n    logActive.off();\r\n    return debugLog;\r\n  },\r\n  toConsole: {\r\n    on: () => {\r\n      log2Console = true;\r\n      Log(`Debug logging to console activated`);\r\n      return debugLog;\r\n    },\r\n    off() {\r\n      log2Console = false;\r\n      Log(`Debug logging to document activated`);\r\n      return debugLog;\r\n    }\r\n  },\r\n  remove: () => {\r\n    logActive.off();\r\n    setSystemLog.off();\r\n    jql(logBoxId)?.remove();\r\n    console?.clear();\r\n    console.log(`${logTime()} logging completely disabled and all entries removed`);\r\n    return debugLog;\r\n  },\r\n  log: (...args) => {\r\n    Log(...args);\r\n    return debugLog;\r\n  },\r\n  hide: () => {\r\n    jql(logBoxId)?.parent()?.removeClass(`visible`);\r\n    return debugLog;\r\n  },\r\n  show: () => {\r\n    jql(logBoxId)?.parent()?.addClass(`visible`);\r\n    return debugLog;\r\n  },\r\n  reversed: {\r\n    on: () => {\r\n      reverseLogging = true;\r\n      Log(`Reverse logging reset: now logging bottom to top (latest first)`);\r\n      return debugLog;\r\n    },\r\n    off: () => {\r\n      reverseLogging = false;\r\n      Log(`Reverse logging reset: now logging top to bottom (latest last)`);\r\n      return debugLog;\r\n    },\r\n  },\r\n  clear: () => {\r\n    jql(logBoxId)?.text(``);\r\n    console.clear();\r\n    Log(`Logging cleared`);\r\n    return debugLog;\r\n  }\r\n};\r\n\r\nexport { Log, debugLog, systemLog };", "import {createElementFromHtmlString, insertPositions} from \"./DOM.js\";\r\nimport {\r\n  IS,\r\n  hex2RGBA,\r\n  loop,\r\n  addHandlerId,\r\n  isVisible,\r\n  isNode,\r\n  randomString,\r\n  inject2DOMTree } from \"./JQLExtensionHelpers.js\";\r\nimport {ATTRS} from \"./EmbedResources.js\";\r\nimport jql from \"../index.js\";\r\n\r\nconst empty = el => el && (el.textContent = \"\");\r\nconst compareCI = (key, compareTo) => key.toLowerCase().trim() === compareTo.trim().toLowerCase();\r\nconst setData = (el, keyValuePairs) => {\r\n  el && IS(keyValuePairs, Object) &&\r\n  Object.entries(keyValuePairs).forEach(([key, value]) => el.dataset[key] = value);\r\n};\r\nconst checkProp = prop => ATTRS.html.find(attr => prop === attr);\r\n\r\nconst css = (el, keyOrKvPairs, value) => {\r\n  const { setStyle } = jql;\r\n\r\n  if (value && IS(keyOrKvPairs, String)) {\r\n    keyOrKvPairs = {[keyOrKvPairs]: value === \"-\" ? \"\" : value};\r\n  }\r\n\r\n  let nwClass = undefined;\r\n\r\n  if (keyOrKvPairs.className) {\r\n    nwClass = keyOrKvPairs.className;\r\n    delete keyOrKvPairs.className;\r\n  }\r\n\r\n  const classExists = ([...el.classList].find(c => c.startsWith(`JQLCreated`) || nwClass && c === nwClass));\r\n  nwClass = classExists || nwClass || `JQLCreated${randomString()}`;\r\n  setStyle(`.${nwClass}`, keyOrKvPairs);\r\n  el.classList.add(nwClass);\r\n};\r\nconst assignAttrValues = (/*NODOC*/el, keyValuePairs) => {\r\n  el && Object.entries(keyValuePairs).forEach(([key, value]) => {\r\n    if (key.startsWith(`data`)) {\r\n      setData(el, {[key]: value});\r\n    }\r\n\r\n    if (compareCI(key, `class`)) {\r\n      value.split(/\\s+/).forEach(v => el.classList.add(`${v}`))\r\n    }\r\n\r\n    if (IS(value, String) && checkProp(key)) {\r\n      el[key] = value;\r\n    }\r\n  });\r\n};\r\nconst allMethods = {\r\n  straigthLoops: {\r\n    toggleClass: (el, className) => el.classList.toggle(className),\r\n    toggleStyleFragments: (/*NODOC*/ el, keyValuePairs) =>\r\n      el && Object.entries(keyValuePairs).forEach(([key, value]) => {\r\n        if (IS(value, Function)) {\r\n          value = value(el);\r\n        }\r\n\r\n        if (/color/i.test(key)) {\r\n          value = value.startsWith(`#`)\r\n            ? hex2RGBA(value)\r\n            : value.replace(/(,|,\\s{2,})(\\w)/g, (...args) => `, ${args[2]}`);\r\n        }\r\n\r\n        el.style[key] = `${el.style[key]}` === `${value}` ? \"\" : value;\r\n      }),\r\n    removeAttr: (el, name) => el && el.removeAttribute(name),\r\n    toggleAttr: (el, name) => {\r\n      if (el.hasAttribute(name)) {\r\n        if (!el.dataset[`previous${name}`]) {\r\n          el.dataset[`previous${name}`] = el.getAttribute(name);\r\n        }\r\n        return el.removeAttribute(name);\r\n      }\r\n\r\n      if (el.dataset[`previous${name}`]) {\r\n        return el.setAttribute(name, el.dataset[`previous${name}`]);\r\n      }\r\n    },\r\n    empty,\r\n    clear:  empty,\r\n    replaceClass: (el, className, ...nwClassNames) => {\r\n      el.classList.remove(className);\r\n      nwClassNames.forEach(name => el.classList.add(name))\r\n    },\r\n    removeClass: (el, ...classNames) =>\r\n      classNames.forEach(cn => el.classList.remove(cn)),\r\n    addClass: (el, ...classNames) => el && classNames.forEach(cn => el.classList.add(cn)),\r\n    show: el => {\r\n      el.style.display = ``;\r\n      el.style.visibility = ``;\r\n      el.style.opacity = `1`;\r\n    },\r\n    hide: el => el.style.display = `none`,\r\n    setData: setData,\r\n    style: (el, keyOrKvPairs, value) => {\r\n      if (value && IS(keyOrKvPairs, String)) {\r\n        keyOrKvPairs = { [keyOrKvPairs]: value || `none` };\r\n      }\r\n\r\n      if (IS(keyOrKvPairs, Object)) {\r\n        Object.entries(keyOrKvPairs).forEach(([key, value]) => el.style[key] = value);\r\n      }\r\n    },\r\n    css,\r\n  },\r\n  instanceExtensions: {\r\n    text: (self, textValue, append = false) => {\r\n      if (self.isEmpty()) {\r\n        return self;\r\n      }\r\n\r\n      const cb = el => el.textContent = append ? el.textContent + textValue : textValue;\r\n\r\n      if (!IS(textValue, String)) {\r\n        return self.first().textContent;\r\n      }\r\n\r\n      return loop(self, cb);\r\n    },\r\n    each: (self, cb) => loop(self, cb),\r\n    remove: (self, selector) => {\r\n      const remover = el => el.remove();\r\n      if (selector) {\r\n        const selectedElements = self.find$(selector);\r\n        !selectedElements.isEmpty() && loop(selectedElements, remover);\r\n        return;\r\n      }\r\n      loop(self, remover);\r\n    },\r\n    computedStyle: (self, property) => self.first() && getComputedStyle(self.first())[property],\r\n    getData: (self, dataAttribute, valueWhenFalsy) => self.first() &&\r\n      self.first().dataset?.[dataAttribute] || valueWhenFalsy,\r\n    isEmpty: self => self.collection.length < 1,\r\n    is: (self, checkValue) => {\r\n      const firstElem = self.first();\r\n\r\n      if (!firstElem) {\r\n        return true;\r\n      }\r\n\r\n      switch (checkValue) {\r\n        case \":visible\": {\r\n          return isVisible(firstElem); // TODO\r\n        }\r\n        case \":hidden\":\r\n          return !isVisible(firstElem);\r\n        case \":disabled\":\r\n          return firstElem.getAttribute(\"readonly\") || firstElem.getAttribute(\"disabled\");\r\n        default:\r\n          return true;\r\n      }\r\n    },\r\n    hasClass: (self, ...classNames) => {\r\n      const firstElem = self.first();\r\n      return self.isEmpty() || !firstElem.classList.length\r\n        ? false : classNames.find(cn => firstElem.classList.contains(cn)) || false;\r\n    },\r\n    replace: (self, oldChild, newChild) => {\r\n      const firstElem = self.first();\r\n\r\n      if (newChild.isJQL) {\r\n        newChild = newChild.first();\r\n      }\r\n\r\n      if (firstElem && oldChild) {\r\n        oldChild = IS(oldChild, String)\r\n          ? firstElem.querySelector(oldChild)\r\n          : oldChild.isJQL\r\n            ? oldChild.first()\r\n            : oldChild;\r\n\r\n        if (oldChild && newChild) {\r\n          oldChild.replaceWith(newChild);\r\n        }\r\n      }\r\n\r\n      return self;\r\n    },\r\n    replaceMe: (self, newChild) => {\r\n      newChild = IS(newChild, HTMLElement) ? jql(newChild) : newChild;\r\n      self.parent().replace(self, newChild)\r\n      return jql(newChild);\r\n    },\r\n    val: (self, newValue) => {\r\n      const firstElem = self.first();\r\n\r\n      if (!firstElem || !IS(firstElem, HTMLInputElement, HTMLSelectElement, HTMLTextAreaElement)) {\r\n        return self;\r\n      }\r\n\r\n      if (newValue === undefined) {\r\n        return firstElem.value;\r\n      }\r\n\r\n      firstElem.value = `${newValue}`.length < 1 ? \"\" : newValue;\r\n\r\n      return self;\r\n    },\r\n    attr(self, keyOrObj, value) {\r\n      if (!value && IS(keyOrObj, String)) {\r\n        console.log(`nou lekker hoor ... ${keyOrObj}, ${self[0].getAttribute(keyOrObj)}`);\r\n        return self[0].getAttribute(keyOrObj);\r\n      }\r\n\r\n      if (IS(keyOrObj, String) && value) {\r\n        keyOrObj = { [keyOrObj]: value };\r\n      }\r\n\r\n      Object.entries(keyOrObj).forEach(([key, value]) => {\r\n        if (!checkProp(key)) { return false; }\r\n\r\n        if (compareCI(key, `style`)) {\r\n          return css(self[0], value, undefined);\r\n        }\r\n\r\n        if (compareCI(key, `data`)) {\r\n          return setData(self[0], value);\r\n        }\r\n\r\n        if (IS(value, Object)) {\r\n          return assignAttrValues(self[0], value);\r\n        }\r\n\r\n        self[0].setAttribute(key, value);\r\n      });\r\n\r\n      return self;\r\n    },\r\n    parent: self => self.collection.length && self.first().parentNode &&\r\n      jql(self.first().parentNode) || self,\r\n    append: (self, ...elems2Append) => {\r\n      if (!self.isEmpty() && elems2Append.length) {\r\n        for (const elem of elems2Append) {\r\n          if (IS(elem, String)) {\r\n            self.collection.forEach(el => el.appendChild(createElementFromHtmlString(elem)));\r\n          }\r\n\r\n          if (isNode(elem)) {\r\n            self.collection.forEach( el =>\r\n              el.appendChild(IS(elem, Comment) ? elem : elem.cloneNode(true)));\r\n          }\r\n\r\n          if (elem.isJQL && elem.collection.length) {\r\n            if (elem.isVirtual) { elem.toDOM(); }\r\n            const elems = elem.collection;\r\n            elem.remove();\r\n            elems.forEach( e2a =>\r\n              self.collection.forEach( el =>\r\n                el.appendChild( IS(e2a, Comment) ? e2a : e2a.cloneNode(true) ) ) );\r\n          }\r\n        }\r\n      }\r\n\r\n      return self;\r\n    },\r\n    prepend: (self, ...elems2Prepend) => {\r\n      // todo: maybe better to only prepend to root element!\r\n      if (!self.isEmpty() && elems2Prepend) {\r\n\r\n        for (let i = 0; i < elems2Prepend.length; i += 1) {\r\n          const elem2Prepend = elems2Prepend[i];\r\n\r\n          if (IS(elem2Prepend, String)) {\r\n            self.collection.forEach(el =>\r\n              el.insertBefore(createElementFromHtmlString(elem2Prepend), el.firstChild))\r\n            return self;\r\n          }\r\n\r\n          if (isNode(elem2Prepend)) {\r\n            self.collection.forEach(el =>\r\n              el.insertBefore(\r\n                IS(elem2Prepend, Comment) ? elem2Prepend : elem2Prepend.cloneNode(true), el.firstChild));\r\n            return self;\r\n          }\r\n\r\n          if (elem2Prepend.isJQL && !elem2Prepend.isEmpty()) {\r\n            const elems = elem2Prepend.collection.slice();\r\n            elem2Prepend.remove();\r\n            elems.forEach(e2a =>\r\n              self.collection.forEach(el =>\r\n                el && el.insertBefore(IS(e2a, Comment) ? e2a : e2a.cloneNode(true), el.firstChild)));\r\n          }\r\n        }\r\n      }\r\n\r\n      return self;\r\n    },\r\n    appendTo: (self, appendTo) => {\r\n      if (!appendTo.isJQL) {\r\n        appendTo = self.virtual(appendTo);\r\n      }\r\n      return appendTo.append(self);\r\n    },\r\n    prependTo: (self, prependTo) => {\r\n      if (!prependTo.isJQL) {\r\n        prependTo = self.virtual(prependTo);\r\n      }\r\n\r\n      return prependTo.prepend(self);\r\n    },\r\n    single: (self, indexOrSelector = \"0\") => {\r\n      if (self.collection.length > 0) {\r\n        if (isNaN(+indexOrSelector) && self.find(indexOrSelector)) {\r\n          return self.find$(indexOrSelector);\r\n        }\r\n        const index = +indexOrSelector;\r\n        return index < self.collection.length\r\n          ? jql(self.collection[indexOrSelector])\r\n          : jql(self.collection.slice(-1));\r\n      } else {\r\n        return self;\r\n      }\r\n    },\r\n    toNodeList: self => {\r\n      const virtual = document.createElement(`div`);\r\n\r\n      for (const elem of self.collection) {\r\n        const nodeClone = document.importNode(elem, true);\r\n        nodeClone.removeAttribute(`id`);\r\n        virtual.append(nodeClone);\r\n      }\r\n\r\n      return virtual.childNodes;\r\n    },\r\n    duplicate: (self, toDOM = false, root = document.body) => {\r\n      const clonedCollection = jql.virtual([...self.toNodeList()]);\r\n      return toDOM ? clonedCollection.toDOM(root) : clonedCollection;\r\n    },\r\n    toDOM: (self, root = document.body, position = insertPositions.BeforeEnd) => {\r\n      if (self.isVirtual) {\r\n        self.isVirtual = false;\r\n        inject2DOMTree(self.collection, root, position);\r\n      }\r\n      return self;\r\n    },\r\n    first: (self, asself = false) => {\r\n      if (self.collection.length > 0) {\r\n        return asself\r\n          ? self.single()\r\n          : self.collection[0];\r\n      }\r\n      return undefined;\r\n    },\r\n    first$: (self, indexOrSelector) => self.single(indexOrSelector),\r\n    find: (self, selector) => self.first()?.querySelectorAll(selector) || [],\r\n    find$: (self, selector) => {\r\n      const found = self.collection.reduce((acc, el) =>\r\n        [...acc, [...el.querySelectorAll(selector)]], [])\r\n        .flat()\r\n        .filter(el => IS(el, HTMLElement));\r\n      return found.length && jql(found[0]) || jql();\r\n    },\r\n    prop: (self, property, value) => {\r\n      if (value && !checkProp(property)) {\r\n        return self;\r\n      }\r\n\r\n      if (!value) {\r\n        return self.collection.length ? self.first()[property] : self;\r\n      }\r\n\r\n      if (self.collection.length) {\r\n        return loop(self, el => el[property] = value);\r\n      }\r\n\r\n      return self;\r\n    },\r\n    on: (self, type, callback) => {\r\n      if (self.collection.length) {\r\n        const cssSelector = addHandlerId(self);\r\n        jql.handle(self, type, cssSelector, callback);\r\n      }\r\n\r\n      return self;\r\n    },\r\n    html: (self, htmlValue, append) => {\r\n      if (htmlValue === undefined) {\r\n        return self.first()?.innerHTML;\r\n      }\r\n\r\n      if (!self.isEmpty()) {\r\n        const nwElement = htmlValue.isJQL\r\n          ? htmlValue.first() : createElementFromHtmlString(`<div>${htmlValue}</div>`);\r\n\r\n        if (!IS(nwElement, Comment)) {\r\n          const cb = el => el.innerHTML = append ? el.innerHTML + nwElement.innerHTML : nwElement.innerHTML;\r\n          return loop(self, cb);\r\n        }\r\n      }\r\n\r\n      return self;\r\n    },\r\n    outerHtml: self => (self.first() || {outerHTML: undefined}).outerHTML,\r\n    htmlFor: (self, forQuery, htmlString = \"\", append = false) => {\r\n      if (forQuery && self.collection.length) {\r\n        const el2Change = self.find$(forQuery);\r\n        if (!el2Change) {\r\n          return self;\r\n        }\r\n\r\n        if (`{htmlValue}`.trim().length < 1) {\r\n          el2Change.textContent = \"\";\r\n          return self;\r\n        }\r\n\r\n        const nwElement = createElementFromHtmlString(`<div>${htmlString}</div>`);\r\n        nwElement && el2Change.html(nwElement.innerHTML, append);\r\n      }\r\n      return self;\r\n    },\r\n    dimensions: self => self.first()?.getBoundingClientRect(),\r\n    delegate: (/*NODOC*/self, type, cssSelector, ...callbacks) => {\r\n      callbacks.forEach(callback => jql.handle(self, type, cssSelector, callback));\r\n      return self;\r\n    },\r\n    ON: (self, type, ...callbacks) => {\r\n      if (self.collection.length) {\r\n        callbacks.forEach(cb => self.on(type, cb));\r\n      }\r\n\r\n      return self;\r\n    },\r\n    trigger: (self, evtType, SpecifiedEvent = Event, options = {}) => {\r\n      if (self.collection.length) {\r\n        const evObj = new SpecifiedEvent( evtType, { ...options, bubbles: options.bubbles??true} );\r\n        for( let elem of self.collection ) { elem.dispatchEvent(evObj); }\r\n      }\r\n      return self;\r\n    },\r\n  },\r\n};\r\nexport default allMethods;", "import {IS} from \"./JQLExtensionHelpers.js\";\nimport {popupStyling} from \"./EmbedResources.js\";\nexport default PopupFactory;\n\nfunction PopupFactory($) {\n  let savedPosition = 0;\n  const wrappedBody = $(document.body);\n  const setStyle = $.createStyle(`JQLPopupCSS`);\n  initStyling(setStyle);\n  let savedTimer, savedCallback;\n  const clickOrTouch =  \"ontouchstart\" in document.documentElement ? \"touchend\" : \"click\";\n  $.delegate( clickOrTouch, `#closer, .between`,  remove );\n  const stillOpen = () => {\n    endTimer();\n    modalWarner.hasClass(`active`) && modalWarner.removeClass(`active`);\n    modalWarner.addClass(`active`);\n    savedTimer = setTimeout(() => modalWarner.removeClass(`active`), 2500);\n    return true;\n  }\n  const currentModalState = (() =>{\n    let currentPopupIsModal = false;\n    return {\n      set isModal({state = false}) { currentPopupIsModal = state; },\n      get isModal() { return currentPopupIsModal; },\n      get isActive() { return currentPopupIsModal && popupBox.hasClass(`active`) && stillOpen() },\n    };\n  })();\n  const createElements = _ => {\n    const popupBox = $(`<div class=\"popupContainer\">`)\n      .append( $(`<span id=\"closer\" class=\"closeHandleIcon\"></span>`)\n        .prop(`title`, `Click here or anywhere outside the box to close`))\n      .append(`<div class=\"popupBox\"><div id=\"modalWarning\"></div><div data-modalcontent></div></div>`);\n    const closer = $(`#closer`);\n    const between = $(`<div class=\"between\"></div>`);\n    return [popupBox, between, closer, $(`#modalWarning`)];\n  };\n  const [popupBox, between, closer, modalWarner] = createElements();\n  const deActivate = () => {\n    $(`.between`).removeClass(`active`).style({top: 0});\n    $(`#closer, .popupContainer, #modalWarning`).removeClass(`active`);\n    $(`[data-modalcontent]`).empty();\n  };\n  const activate = (theBox, closeHndl) => {\n    $(`.between, .popupContainer`).addClass(`active`);\n    const scrTop = $(`html`)[0].scrollTop;\n    between.style( { top: `${scrTop}px` } );\n    const boxTop = scrTop + (0.5 * between[0].offsetHeight);\n    popupBox.style( { height: `auto`, width: `auto`, top: `${ boxTop }px` } );\n    wrappedBody.addClass(`popupActive`);\n\n    if (closeHndl) {\n      closeHndl.addClass(`active`);\n    }\n  };\n  const endTimer = () => savedTimer && clearTimeout(savedTimer);\n  const doCreate = ({message, isModal, callback, modalWarning}) => {\n    currentModalState.isModal = {state: isModal};\n    savedCallback = callback;\n\n    if (isModal && IS(modalWarning, String)) {\n      setStyle(`#modalWarning.active:after{content:\"${modalWarning}\";}`);\n    }\n\n    if (!message.isJQL && !IS(message, String)) {\n      return createTimed($(`<b style=\"color:red\">Popup not created: invalid input</b>`), 2);    }\n\n    endTimer();\n    $(`.popupBox > [data-modalcontent]`).empty().append( message.isJQL ? message : $(`<div>${message}</div>`) );\n    activate(popupBox, currentModalState.isModal ? undefined : closer);\n  }\n  const create = (message, isModal = false, callback = undefined, modalWarning = ``) =>\n    !currentModalState.isActive && doCreate({message, isModal, callback, modalWarning});\n  const createTimed = (message, closeAfter = 2, callback = null ) => {\n    if (currentModalState.isActive) { return; }\n    deActivate();\n    create(message, false, callback);\n    const remover = () => remove(callback);\n    savedTimer = setTimeout(remover, closeAfter * 1000);\n  };\n  function remove(/*NODOC*/evtOrCallback) {\n    endTimer();\n    if (currentModalState.isActive) { return; }\n    const callback = IS(evtOrCallback, Function) ? evtOrCallback : savedCallback;\n\n    if (IS(callback, Function)) {\n      savedCallback = undefined;\n      return callback();\n    }\n\n    deActivate();\n    const time2Wait = parseFloat(popupBox.computedStyle(`transitionDuration`)) * 1000;\n    savedTimer = setTimeout(() => wrappedBody.removeClass(`popupActive`), time2Wait);\n  }\n  const removeModal = callback => {\n    currentModalState.isModal = false;\n    remove(callback);\n  };\n\n  return {\n    create,\n    createTimed,\n    remove,\n    removeModal,\n  };\n}\n\nfunction initStyling(setStyle) {\n  popupStyling.forEach(declaration => setStyle(declaration));\n}", "let handlers = {};\r\nexport default $ => {\r\n  const metaHandler = evt => handlers[evt.type].forEach(handler => handler(evt));\r\n\r\n  const createHandlerForHID = (HID, callback) => {\r\n    return evt => {\r\n      const target = evt.target.closest(HID);\r\n      return target && callback(evt, $(target));\r\n    };\r\n  };\r\n\r\n  const addListenerIfNotExisting = type =>\r\n    !Object.keys(handlers).find(registeredType => registeredType === type) &&\r\n      document.addEventListener(type, metaHandler);\r\n\r\n  return (/*NODOC*/self, type, HIDselector, callback) => {\r\n    addListenerIfNotExisting(type);\r\n    const fn = !HIDselector ? callback : createHandlerForHID(HIDselector, callback);\r\n    handlers = handlers[type]\r\n      ? {...handlers, [type]: handlers[type].concat(fn)}\r\n      : {...handlers, [type]: [fn]};\r\n  };\r\n}", "export default LifeStyleFactory;\r\n\r\nfunction LifeStyleFactory({styleSheet, createWithId}) {\r\n  const {cssRuleFromText, checkAtRules, toDashedNotation, IS, shortenRule, consider,\r\n    ruleExists, checkParams, atMedia2String, sheet} = getHelpers({styleSheet, createWithId});\r\n\r\n  const setRule4Selector = (rule, properties) => Object.entries(properties)\r\n    .forEach( ([prop, value]) => rule.style.setProperty(toDashedNotation(prop), value));\r\n\r\n  const setRules = (selector, styleRules, sheetOrMediaRules = sheet) => {\r\n    if (!IS(selector, String) || !selector.trim().length || /[;,]$/g.test(selector.trim())) {\r\n      return console.error(`StylingFactory instance (setRules): [${\r\n        selector || `[no selector given]` }] is not a valid selector`);\r\n    }\r\n\r\n    const exists = ruleExists(selector, true);\r\n    const rule4Selector = exists\r\n      || sheetOrMediaRules.cssRules[sheetOrMediaRules.insertRule(`${selector} {}`,\r\n        sheetOrMediaRules.cssRules.length || 0)];\r\n    return consider( () => setRule4Selector(rule4Selector, styleRules), selector, exists );\r\n  };\r\n\r\n  const doParse = cssDeclarationString => {\r\n    const rule = cssDeclarationString.trim().split(/{/, 2);\r\n    const selector = rule.shift().trim();\r\n    if (!IS(selector, String) || !selector.trim()) {\r\n      return console.error(`StylingFactory instance (doParse): no (valid) selector could be extracted from rule ${\r\n        shortenRule(cssDeclarationString)}`);\r\n    }\r\n    const cssRules =  cssRuleFromText(rule.shift());\r\n    return setRules(selector, cssRules);\r\n  };\r\n\r\n  const styleFromString = cssDeclarationString => {\r\n    const checkAts = checkAtRules(cssDeclarationString);\r\n    return checkAts.done ? checkAts.existing : doParse(cssDeclarationString);\r\n  }\r\n\r\n  const styleFromObject = (selector, rulesObj) => {\r\n    if (selector.trim().startsWith(`@media`)) {\r\n      return styleFromString(atMedia2String(selector, rulesObj));\r\n    }\r\n    return setRules(selector, rulesObj);\r\n  };\r\n\r\n  return (cssBlockOrSelector, rulesObj = {}) =>\r\n    checkParams(cssBlockOrSelector, rulesObj) && (\r\n      Object.keys(rulesObj).length ?\r\n        styleFromObject(cssBlockOrSelector, rulesObj) :\r\n        styleFromString(cssBlockOrSelector) );\r\n}\r\n\r\nfunction getHelpers({styleSheet, createWithId}) {\r\n  const notification = `Note: The rule or some of its properties may not be supported by your browser (yet)`;\r\n\r\n  const escape4RegExp = str => str.replace(/([*\\[\\]()-+{}.$?\\\\])/g, '\\\\$1');\r\n\r\n  const retrieveOrCreateSheet = id => document.querySelector(`#${id}`)?.sheet ??\r\n    document.head.insertAdjacentElement(`beforeend`,\r\n      Object.assign(document.createElement(`style`), {id, type: `text/css`})).sheet;\r\n\r\n  styleSheet = createWithId ? retrieveOrCreateSheet(createWithId) : styleSheet;\r\n\r\n  const createRE = (regexStr, ...args) => {\r\n    const flags = args.length && Array.isArray(args.slice(-1)) ? args.pop().join(``) : ``;\r\n\r\n    return new RegExp(\r\n      (args.length &&\r\n        regexStr.raw.reduce( (a, v, i ) => a.concat(args[i-1] || ``).concat(v), ``) ||\r\n        regexStr.raw.join(``))\r\n        .split(`\\n`)\r\n        .map( line => line.replace(/\\s|\\/\\/.*$/g, ``).trim().replace(/(@s!)/g, ` `) )\r\n        .join(``), flags);\r\n  };\r\n\r\n  const ruleExists = (ruleFragOrSelector, isSelector) => [...styleSheet.rules].find( r =>\r\n    isSelector ?\r\n      compareSelectors((r.selectorText || ``), ruleFragOrSelector) :\r\n      createRE`${escape4RegExp(ruleFragOrSelector)}${[...`gim`]}`.test(r.cssText))\r\n\r\n  const checkAtRules = (cssDeclarationString) =>\r\n    /@import|@charset|@font-face/i.test(cssDeclarationString) ?\r\n      { existing: tryParse(cssDeclarationString, 0), done: true } :\r\n      atRulesRE.test(cssDeclarationString) ?\r\n        { ok: tryParse(cssDeclarationString, styleSheet.cssRules.length), done: true } :\r\n        { ok: false, done: false };\r\n\r\n  const ISOneOf = (obj, ...params) => !!params.find( param => IS(obj, param) );\r\n  const IS = (obj, ...shouldBe) => {\r\n    if (shouldBe.length > 1) {\r\n      return ISOneOf(obj, ...shouldBe);\r\n    }\r\n    shouldBe = shouldBe.shift();\r\n    const invalid = `Invalid parameter(s)`;\r\n    const self = obj === 0 ? Number : obj === `` ? String :\r\n      !obj ? {name: invalid} :\r\n        Object.getPrototypeOf(obj)?.constructor;\r\n    return shouldBe ? shouldBe === self?.__proto__ || shouldBe === self :\r\n      self?.name ?? invalid;\r\n  };\r\n\r\n  const atRulesRE = createRE`@keyframes | @font-feature-values | @font-palette-values \r\n    | @layer | @namespace | @page | @counter-style | @container | @media ${[`i`]}`;\r\n\r\n  const cssRuleFromText = rule => {\r\n    rule = !/\\n/.test(rule) ? rule.split(`;`).join(`;\\n`) : rule;\r\n    return rule\r\n      .trim()\r\n      .replace(/[}{]/, ``)\r\n      .split(`\\n`).map(r => r.trim())\r\n      .filter(v => v).reduce( (acc, v) => {\r\n        const [key, value] = [\r\n          v.slice(0, v.indexOf(`:`)).trim(),\r\n          v.slice(v.indexOf(`:`) + 1).trim().replace(/;$|;.+(?=\\/*).+\\/$/, ``)];\r\n        return key && value ? {...acc, [key]: value} : acc; }, {} );\r\n  };\r\n  const toDashedNotation = str2Convert =>\r\n    str2Convert.replace(/[A-Z]/g, a => `-${a.toLowerCase()}`).replace(/[^--]^-|-$/, ``);\r\n\r\n  const compareSelectors = (s1, s2) => s1?.replace(`::`, `:`) === s2?.replace(`::`, `:`);\r\n\r\n  const checkParams = (cssBlockOrSelector, rulesObj) =>\r\n    cssBlockOrSelector\r\n    && IS(cssBlockOrSelector, String)\r\n    && cssBlockOrSelector.trim().length\r\n    && IS(rulesObj, Object) ||  (console.error(`StylingFactory instance called with invalid parameters`), false);\r\n\r\n  const shortenRule = rule => {\r\n    const shortRule = (rule || `NO RULE`).trim().slice(0, 50).replace(/\\n/g, `\\\\n`).replace(/\\s{2,}/g, ` `);\r\n    return rule.length > shortRule.length ? `${shortRule.trim()}...truncated`  : shortRule;\r\n  }\r\n\r\n  const tryParse = cssDeclarationString => {\r\n    cssDeclarationString = cssDeclarationString.trim();\r\n    const exists = !!ruleExists(cssDeclarationString.slice(0, cssDeclarationString.indexOf(`{`)));\r\n    try {\r\n      return (styleSheet.insertRule(`${cssDeclarationString}`, styleSheet.cssRules.length), exists);\r\n    } catch(err) {\r\n      return (console.error(`StylingFactory instance (tryParse) ${err.name} Error:\\n${\r\n        err.message}\\nRule: ${\r\n        shortenRule(cssDeclarationString)}\\n${\r\n        notification}`),\r\n        exists);\r\n    }\r\n  };\r\n\r\n  const consider = (fn, rule, existing) => {\r\n    try {\r\n      return (fn(), existing);\r\n    } catch(err) {\r\n      return (console.error(`StylingFactory instance (tryAddOrModify) ${err.name} Error:\\n${\r\n        err.message}\\nRule: ${shortenRule(rule)}\\n${\r\n        notification}`),\r\n        existing);\r\n    }\r\n  }\r\n\r\n  const stringifyMediaRule = mediaObj => Object.entries(mediaObj)\r\n    .map( ([key, value]) => `${key}: ${value.trim()}`).join(`;\\n`);\r\n\r\n  const atMedia2String = (selector, rulesObj) => `${selector.trim()} ${\r\n    Object.entries(rulesObj).map( ( [ selectr, rule] ) =>\r\n      `${selectr}: { ${stringifyMediaRule(rule) }` ) }` ;\r\n\r\n  return {\r\n    sheet: styleSheet,\r\n    cssRuleFromText, checkAtRules, ruleExists, atMedia2String,\r\n    toDashedNotation, checkParams, tryParse, consider, IS, shortenRule};\r\n}", "const characters4RandomString = [...Array(26)]\r\n  .map((x, i) => String.fromCharCode(i + 65))\r\n  .concat([...Array(26)].map((x, i) => String.fromCharCode(i + 97)))\r\n  .concat([...Array(10)].map((x, i) => `${i}`));\r\nconst invalid = `Invalid parameter(s)`;\r\nconst pad0 = (nr, n=2) => `${nr}`.padStart(n, `0`);\r\nconst ISOneOf = (obj, ...params) => !!params.find( param => IS(obj, param) );\r\nconst randomNr = (max, min = 0) => {\r\n  [max, min] = [Math.floor(max), min = Math.ceil(min)];\r\n  return Math.floor( ([...crypto.getRandomValues(new Uint32Array(1))].shift() / 2 ** 32 ) * (max - min + 1) + min );\r\n};\r\nconst shuffle = array => {\r\n  let i = array.length;\r\n  while (i--) {\r\n    const ri = randomNr(i);\r\n    [array[i], array[ri]] = [array[ri], array[i]];\r\n  }\r\n  return array;\r\n};\r\nconst hex2Full = hex => {\r\n  hex = (hex.trim().startsWith(\"#\") ? hex.slice(1) : hex).trim();\r\n  return hex.length === 3 ? [...hex].map(v => v + v).join(\"\") : hex;\r\n};\r\n// ---\r\nconst truncateHtmlStr = (str, maxLength = 120) => str.trim()\r\n  .slice(0, maxLength)\r\n  .replace(/>\\s+</g, `><`)\r\n  .replace(/</g, `&lt;`)\r\n  .replace(/\\s{2,}/g, ` `)\r\n  .replace(/\\n/g, `\\\\n`) + (str.length > maxLength ? ` &hellip;` : ``).trim();\r\nconst toDashedNotation = str2Convert =>str2Convert.replace(/[A-Z]/g, a => `-${a.toLowerCase()}`).replace(/^-|-$/, ``);\r\nconst IS = (obj, ...shouldBe) => {\r\n  if (shouldBe.length > 1) { return ISOneOf(obj, ...shouldBe); }\r\n  shouldBe = shouldBe.shift();\r\n  const self = obj === 0 ? Number : obj === `` ? String : !obj ? {name: invalid} :\r\n    Object.getPrototypeOf(obj)?.constructor;\r\n  return shouldBe ? shouldBe === self?.__proto__ || shouldBe === self : self?.name;\r\n};\r\nconst randomString = () => `_${shuffle(characters4RandomString).slice(0, 8).join(``)}`;\r\nconst truncate2SingleStr = (str, maxLength = 120) =>\r\n  truncateHtmlStr(str, maxLength).replace(/&lt;/g, `<`);\r\nconst logTime = () => ((d) =>\r\n  `[${pad0(d.getHours())}:${pad0(d.getMinutes())}:${\r\n    pad0(d.getSeconds())}.${pad0(d.getMilliseconds(), 3)}]`)(new Date());\r\nconst hex2RGBA = function (hex, opacity = 100) {\r\n  hex = hex2Full(hex.slice(1));\r\n  const op = opacity % 100 !== 0;\r\n  return `rgb${op ? \"a\" : \"\"}(${\r\n    parseInt(hex.slice(0, 2), 16)}, ${\r\n    parseInt(hex.slice(2, 4), 16)}, ${\r\n    parseInt(hex.slice(-2), 16)}${op ? `, ${opacity / 100}` : \"\"})`;\r\n};\r\n\r\nexport {\r\n  IS,\r\n  randomString,\r\n  toDashedNotation,\r\n  truncateHtmlStr,\r\n  truncate2SingleStr,\r\n  logTime,\r\n  hex2RGBA,\r\n};", "import { createElementFromHtmlString, element2DOM, insertPositions } from \"./DOM.js\";\nimport { debugLog, Log, systemLog } from \"./JQLLog.js\";\nimport allMethods from \"./JQLMethods.js\";\nimport PopupFactory from \"./Popup.js\";\nimport HandleFactory from \"./HandlerFactory.js\";\nimport styleFactory from \"../LifeCSS/index.js\";\nimport { randomString, toDashedNotation, IS, truncateHtmlStr,\n  truncate2SingleStr, logTime, hex2RGBA, } from \"./Utilities.js\";\nconst exts = allMethods.instanceExtensions;\nconst loops = allMethods.straigthLoops;\nconst isCommentOrTextNode = elem => IS(elem, Comment, Text);\nconst isNode = input => IS(input, Text, HTMLElement, Comment);\nconst isHtmlString = input => IS(input, String) && /^<|>$/.test(`${input}`.trim());\nconst isArrayOfHtmlStrings = input => IS(input, Array) && !input?.find(s => !isHtmlString(s));\nconst isArrayOfHtmlElements = input => IS(input, Array) && !input?.find(el => !isNode(el));\nconst isComment = input => IS(input, Comment);\nconst ElemArray2HtmlString = elems => elems?.filter(el => el).reduce((acc, el) =>\n  acc.concat(isComment(el) ? `<!--${el.textContent}-->` : isCommentOrTextNode(el) ?\n    el.textContent : el.outerHTML), ``);\nconst input2Collection = input => !input ? []\n    : IS(input, NodeList) ? [...input]\n      : isNode(input) ? [input]\n        : isArrayOfHtmlElements(input) ? input\n          : input.isJQL ? input.collection : undefined;\nconst setCollectionFromCssSelector = (input, root, self) => {\n  const selectorRoot = root !== document.body && (IS(input, String) && input.toLowerCase() !== \"body\") ? root : document;\n  let errorStr = undefined;\n  try { self.collection = [...selectorRoot.querySelectorAll(input)]; }\n  catch (err) { errorStr =  `Invalid CSS querySelector. [${input}]`; }\n  return errorStr ?? `CSS querySelector \"${input}\", output ${self.collection.length} element(s)`;\n};\nconst loop = (instance, callback) => {\n  const cleanCollection = instance.collection.filter(el => !isCommentOrTextNode(el));\n  for (let i = 0; i < cleanCollection.length; i += 1) { callback(cleanCollection[i], i); }\n  return instance;\n};\nconst proxify = instance => {\n  const runExt = method => (...args) => IS(method, Function) && method(proxify(instance), ...args);\n  const runLoop = method => (...args) => IS(method, Function) && loop(proxify(instance), el => method(el, ...args));\n  const check = name => loops[name] && runLoop(loops[name]) || exts[name] && runExt(exts[name]);\n  const proxyMe = { get: (obj, name) => check(name) ?? (!isNaN(+name) ? obj.collection?.[name] : obj[name]) };\n  return new Proxy( instance, proxyMe );\n};\nconst inject2DOMTree = (\n  collection = [],\n  root = document.body,\n  position = insertPositions.BeforeEnd ) =>\n    collection.reduce((acc, elem) => {\n      const created = isNode(elem) && element2DOM(elem, root, position);\n      return created ? [...acc, created] : acc;\n    }, []);\nconst addHandlerId = instance => {\n  const handleId = instance.first().dataset.hid || `HID${randomString()}`;\n  instance.setData({hid: handleId});\n  return `[data-hid=\"${handleId}\"]`;\n};\nconst isVisible = function (el) {\n  if (!el) { return false; }\n  const elStyle = el.style;\n  const computedStyle = getComputedStyle(el);\n  const invisible = [elStyle.visibility, computedStyle.visibility].includes(\"hidden\");\n  const noDisplay = [elStyle.display, computedStyle.display].includes(\"none\");\n  const offscreen = el.offsetTop < 0 || (el.offsetLeft + el.offsetWidth) < 0\n    || el.offsetLeft > document.body.offsetWidth;\n  const noOpacity = +computedStyle.opacity === 0 || +(elStyle.opacity || 1) === 0;\n  return !(offscreen || noOpacity || noDisplay || invisible);\n};\nconst getAllDataAttributeValues = el => {\n  const getKey = attr => attr.nodeName.slice(attr.nodeName.indexOf(`-`) + 1);\n  const data = [...el.attributes]\n    .filter(da => da.nodeName.startsWith(`data-`))\n    .reduce((acc, val) =>\n      ({...acc, [getKey(val)]: val.nodeValue}), {});\n  return Object.keys(data).length && data || undefined;\n};\nconst defaultStaticMethods = {\n  debugLog,\n  log: Log,\n  insertPositions,\n  setStyle: styleFactory( { createWithId: `JQLStylesheet` } ),\n  createStyle: id => styleFactory( { createWithId: id } ),\n  text: (str, isComment = false) => isComment ? document.createComment(str) : document.createTextNode(str),\n  node: (selector, root = document.body) => root.querySelector(selector, root),\n  nodes: (selector, root = document.body) => [...root.querySelectorAll(selector, root)],\n};\nlet static4Docs;\nconst addJQLStatics = $ => {\n  const virtual = html => $(html, document.createElement(\"br\"));\n  const handle = HandleFactory($);\n  const delegate = (type, origin, ...handlers) => {\n    if (IS(origin, Function)) {\n      handlers.push(origin);\n      return handle(null, type, null, ...handlers);\n    }\n    return handle(null, type, origin, ...handlers);\n  };\n  const staticMethods = {\n    ...defaultStaticMethods,\n    virtual,\n    handle,\n    popup: () => PopupFactory($),\n    delegate: (type, origin, ...handlers) => {\n      if (IS(origin, Function)) {\n        handlers.push(origin);\n        return handle(null, type, null, ...handlers);\n      }\n      return handle(null, type, origin, ...handlers);\n    },\n  };\n  Object.entries(staticMethods).forEach(([name, method]) => $[name] = method);\n  static4Docs = staticMethods;\n  return $;\n};\n\nexport {\n  loop,\n  hex2RGBA,\n  isVisible,\n  addHandlerId,\n  isHtmlString,\n  isNode,\n  logTime,\n  toDashedNotation,\n  randomString,\n  isArrayOfHtmlStrings,\n  isArrayOfHtmlElements,\n  isCommentOrTextNode,\n  inject2DOMTree,\n  ElemArray2HtmlString,\n  input2Collection,\n  setCollectionFromCssSelector,\n  truncateHtmlStr,\n  truncate2SingleStr,\n  proxify,\n  addJQLStatics,\n  createElementFromHtmlString,\n  insertPositions,\n  systemLog,\n  IS,\n  static4Docs,\n};\n", "/*\r\n  This is a classfree object oriented version of JQL (see https://github.com/KooiInc/JQL)\r\n  Inspired by Douglas Crockford (see https://youtu.be/XFTOG895C7c?t=2562)\r\n*/\r\n\r\nimport {\r\n  isHtmlString,\r\n  isArrayOfHtmlStrings,\r\n  isArrayOfHtmlElements,\r\n  inject2DOMTree,\r\n  ElemArray2HtmlString,\r\n  input2Collection,\r\n  setCollectionFromCssSelector,\r\n  truncateHtmlStr,\r\n  proxify,\r\n  addJQLStatics,\r\n  createElementFromHtmlString,\r\n  insertPositions,\r\n  systemLog,\r\n  IS,\r\n} from \"./src/JQLExtensionHelpers.js\";\r\n\r\nexport default addJQLStatics(JQLFactory());\r\n\r\nfunction JQLFactory() {\r\n  const logLineLength = 70;\r\n\r\n  return function(input, root = document.body, position = insertPositions.BeforeEnd) {\r\n    const isRawHtml = isHtmlString(input);\r\n    const isRawHtmlArray = isArrayOfHtmlStrings(input);\r\n    const shouldCreateElements = !IS(root, HTMLBRElement) && isRawHtmlArray || isRawHtml;\r\n    let instance = {\r\n      collection: input2Collection(input) ?? [],\r\n      isVirtual: IS(root, HTMLBRElement),\r\n      isJQL: true,\r\n      insertPositions, };\r\n\r\n    const isRawElemCollection = isArrayOfHtmlElements(instance.collection);\r\n    const logStr = `input =&gt; ${\r\n      isRawHtmlArray\r\n        ? `\"${truncateHtmlStr(input.join(``), logLineLength)}\"`\r\n        : !shouldCreateElements && isRawElemCollection ? `element collection [${\r\n            truncateHtmlStr( instance.collection.map(el => el.outerHTML || el.textContent).join(``), logLineLength)}]`\r\n          : `\"${truncateHtmlStr(input, logLineLength)}\"`}`;\r\n\r\n    if (instance.collection.length && isRawElemCollection) {\r\n      systemLog(logStr);\r\n      return proxify(instance);\r\n    }\r\n\r\n    if (shouldCreateElements) {\r\n      [input].flat().forEach(htmlString =>\r\n        instance.collection.push(createElementFromHtmlString(htmlString)));\r\n    }\r\n\r\n    if (shouldCreateElements && instance.collection.length > 0) {\r\n      const errors = instance.collection.filter( el => el.dataset?.jqlcreationerror );\r\n      instance.collection = instance.collection.filter(el => !el.dataset?.jqlcreationerror);\r\n\r\n      systemLog(`${logStr}`);\r\n      systemLog(`*Created ${instance.isVirtual ? `VIRTUAL ` : ``}[${\r\n        truncateHtmlStr(ElemArray2HtmlString(instance.collection) || \r\n          \"sanitized: no elements remaining\", logLineLength)}]`);\r\n\r\n      if (errors.length) {\r\n        console.error(`JQL: illegal html, not rendered: \"${\r\n          errors.reduce( (acc, el) => acc.concat(`${el.textContent}\\n`), ``).trim()}\"` );\r\n      }\r\n\r\n      if (!instance.isVirtual) {\r\n        inject2DOMTree(instance.collection, root, position);\r\n      }\r\n\r\n      return proxify(instance);\r\n  }\r\n\r\n    const forLog = setCollectionFromCssSelector(input, root, instance);\r\n    systemLog(`input => ${forLog}`);\r\n    return proxify(instance);\r\n  }\r\n}"],
  "mappings": "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",
  "names": ["logStyling", "getLogStyling", "popupStyling", "getPopupStyling", "ATTRS", "getAttrs", "allTags", "getPermissions", "getAttrs", "getPermissions", "getLogStyling", "getPopupStyling", "HTMLTags_default", "elem", "nodeName", "allTags", "tagName", "allowed", "logElementCreationErrors2Console", "attrRegExpStore", "logContingentErrors", "elCreationInfo", "logElementCreationErrors2Console", "msgs", "acc", "k", "v", "cleanupHtml", "elem", "template", "el2Clean", "child", "attrStore", "IS", "ATTRS", "attr", "name", "value", "evilValue", "evilAttrib", "truncate2SingleStr", "HTMLTags_default", "setTagPermission", "HTMLTags_default", "insertPositions", "placeholderNode", "htmlToVirtualElement", "htmlString", "cleanupHtml", "characterDataElement2DOM", "elem", "root", "position", "element2DOM", "IS", "createElementFromHtmlString", "htmlStr", "nwElem", "truncateHtmlStr", "logSystem", "useLogging", "log2Console", "reverseLogging", "useHtml", "logBoxId", "setStyling4Log", "setStyle", "logStyling", "selector", "createLogElement", "JQL2CF_default", "jql_logger_element_name", "loggingFieldSet", "element2DOM", "createElementFromHtmlString", "insertPositions", "decodeForConsole", "something", "IS", "Log", "args", "logLine", "arg", "logTime", "logActive", "setSystemLog", "systemLog", "logTxt", "debugLog", "logBox", "empty", "el", "compareCI", "key", "compareTo", "setData", "keyValuePairs", "IS", "value", "checkProp", "prop", "ATTRS", "attr", "css", "keyOrKvPairs", "setStyle", "JQL2CF_default", "nwClass", "randomString", "assignAttrValues", "v", "allMethods", "className", "hex2RGBA", "args", "name", "nwClassNames", "classNames", "cn", "self", "textValue", "append", "cb", "loop", "selector", "remover", "selectedElements", "property", "dataAttribute", "valueWhenFalsy", "checkValue", "firstElem", "isVisible", "oldChild", "newChild", "newValue", "keyOrObj", "elems2Append", "elem", "createElementFromHtmlString", "isNode", "elems", "e2a", "elems2Prepend", "i", "elem2Prepend", "appendTo", "prependTo", "indexOrSelector", "virtual", "nodeClone", "toDOM", "root", "clonedCollection", "position", "insertPositions", "inject2DOMTree", "asself", "found", "acc", "type", "callback", "cssSelector", "addHandlerId", "htmlValue", "nwElement", "forQuery", "htmlString", "el2Change", "callbacks", "evtType", "SpecifiedEvent", "options", "evObj", "JQLMethods_default", "Popup_default", "PopupFactory", "$", "savedPosition", "wrappedBody", "setStyle", "initStyling", "savedTimer", "savedCallback", "clickOrTouch", "remove", "stillOpen", "endTimer", "modalWarner", "currentModalState", "currentPopupIsModal", "state", "popupBox", "createElements", "_", "closer", "between", "deActivate", "activate", "theBox", "closeHndl", "scrTop", "boxTop", "doCreate", "message", "isModal", "callback", "modalWarning", "IS", "createTimed", "create", "closeAfter", "evtOrCallback", "time2Wait", "popupStyling", "declaration", "handlers", "HandlerFactory_default", "$", "metaHandler", "evt", "handler", "createHandlerForHID", "HID", "callback", "target", "addListenerIfNotExisting", "type", "registeredType", "self", "HIDselector", "fn", "LifeCSS_default", "LifeStyleFactory", "styleSheet", "createWithId", "cssRuleFromText", "checkAtRules", "toDashedNotation", "IS", "shortenRule", "consider", "ruleExists", "checkParams", "atMedia2String", "sheet", "getHelpers", "setRule4Selector", "rule", "properties", "prop", "value", "setRules", "selector", "styleRules", "sheetOrMediaRules", "exists", "rule4Selector", "doParse", "cssDeclarationString", "cssRules", "styleFromString", "checkAts", "styleFromObject", "rulesObj", "cssBlockOrSelector", "notification", "escape4RegExp", "str", "id", "createRE", "regexStr", "args", "flags", "a", "v", "i", "line", "ruleFragOrSelector", "isSelector", "r", "compareSelectors", "tryParse", "atRulesRE", "ISOneOf", "obj", "params", "param", "shouldBe", "invalid", "self", "acc", "key", "str2Convert", "s1", "s2", "shortRule", "err", "fn", "existing", "stringifyMediaRule", "mediaObj", "selectr", "characters4RandomString", "x", "i", "invalid", "pad0", "nr", "n", "ISOneOf", "obj", "params", "param", "IS", "randomNr", "max", "min", "shuffle", "array", "ri", "hex2Full", "hex", "v", "truncateHtmlStr", "str", "maxLength", "IS", "obj", "shouldBe", "ISOneOf", "self", "invalid", "randomString", "shuffle", "characters4RandomString", "truncate2SingleStr", "str", "maxLength", "truncateHtmlStr", "logTime", "d", "pad0", "hex2RGBA", "hex", "opacity", "hex2Full", "op", "exts", "JQLMethods_default", "loops", "isCommentOrTextNode", "elem", "IS", "isNode", "input", "isHtmlString", "isArrayOfHtmlStrings", "s", "isArrayOfHtmlElements", "el", "isComment", "ElemArray2HtmlString", "elems", "acc", "input2Collection", "setCollectionFromCssSelector", "root", "self", "selectorRoot", "errorStr", "loop", "instance", "callback", "cleanCollection", "i", "proxify", "runExt", "method", "args", "runLoop", "check", "name", "proxyMe", "obj", "inject2DOMTree", "collection", "position", "insertPositions", "created", "element2DOM", "addHandlerId", "handleId", "randomString", "isVisible", "elStyle", "computedStyle", "invisible", "noDisplay", "offscreen", "noOpacity", "defaultStaticMethods", "debugLog", "Log", "insertPositions", "LifeCSS_default", "id", "str", "isComment", "selector", "root", "static4Docs", "addJQLStatics", "$", "virtual", "html", "handle", "HandlerFactory_default", "delegate", "type", "origin", "handlers", "IS", "staticMethods", "Popup_default", "name", "method", "JQL2CF_default", "addJQLStatics", "JQLFactory", "input", "root", "position", "insertPositions", "isRawHtml", "isHtmlString", "isRawHtmlArray", "isArrayOfHtmlStrings", "shouldCreateElements", "IS", "instance", "input2Collection", "isRawElemCollection", "isArrayOfHtmlElements", "logStr", "truncateHtmlStr", "el", "systemLog", "proxify", "htmlString", "createElementFromHtmlString", "errors", "ElemArray2HtmlString", "acc", "inject2DOMTree", "forLog", "setCollectionFromCssSelector"]
}
